(this["webpackJsonpsecond-app"]=this["webpackJsonpsecond-app"]||[]).push([[0],{27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a(7),c=a.n(n),i=a(20),o=a.n(i),s=(a(27),a(21)),u=a(8),l=a.n(u),b=a(17),d=a(12),p=a(10),j=a(16);a(32);j.a.initializeApp({apiKey:"AIzaSyD44tEhjsjDU0IbPz6rlX-To4G9x9OMHc0",authDomain:"react-firebase-d66bc.firebaseapp.com",databaseURL:"https://react-firebase-d66bc.firebaseio.com",projectId:"react-firebase-d66bc",storageBucket:"react-firebase-d66bc.appspot.com",messagingSenderId:"1050184707652",appId:"1:1050184707652:web:e279db735e2df2d0f0d611"});var f=j.a.firestore();var m=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),o=Object(p.a)(i,2),u=o[0],j=o[1],m=Object(n.useState)(""),O=Object(p.a)(m,2),h=O[0],x=O[1],v=Object(n.useState)(""),g=Object(p.a)(v,2),y=g[0],E=g[1],k=Object(n.useState)(""),w=Object(p.a)(k,2),S=w[0],N=w[1],C=Object(n.useState)(!1),D=Object(p.a)(C,2),I=D[0],A=D[1],L=Object(n.useState)(""),T=Object(p.a)(L,2),z=T[0],B=T[1],H=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("todos").get();case 2:t=e.sent,a=t.docs.map((function(e){return Object(b.a)({id:e.id},e.data())})),c(a),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){H()}),[]);var J=function(){var e=Object(d.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u.trim()){e.next=4;break}return console.log("campo vacio"),e.abrupt("return");case 4:if(h.trim()){e.next=7;break}return console.log("campo vacio"),e.abrupt("return");case 7:if(y.trim()){e.next=10;break}return console.log("campo vacio"),e.abrupt("return");case 10:if(S.trim()){e.next=13;break}return console.log("campo vacio"),e.abrupt("return");case 13:return e.next=15,f.collection("todos").add({name:u,aut:h,edi:y,clas:S});case 15:r=e.sent,n={name:u,aut:h,edi:y,clas:S},c([].concat(Object(s.a)(a),[Object(b.a)({id:r.id},n)])),j(""),x(""),E(""),N("");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.collection("todos").doc(z).update({name:u,aut:h,edi:y,clas:S});case 3:r=a.map((function(e){return e.id===z&&e.id,e.id===z&&e.id,e.id===z&&e.id,e.id===z?{id:e.id,clas:S}:e})),c(r),A(!1),B(""),j(""),x(""),E(""),N("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("todos").doc(t).delete();case 2:r=a.filter((function(e){return e.id!==t})),c(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h1",{children:"Biblioteca de Libros"}),Object(r.jsx)("h2",{children:I?"Editar Libro":"Agregar Libro"}),Object(r.jsxs)("form",{onSubmit:I?M:J,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Titulo"}),Object(r.jsx)("input",{type:"text",className:"form-control",value:u,onChange:function(e){return j(e.target.value)},placeholder:"Ej. Resident Evil, la conspiracion umbrella"}),Object(r.jsx)("label",{children:"Autor"}),Object(r.jsx)("input",{type:"text",className:"form-control",value:h,onChange:function(e){return x(e.target.value)},placeholder:"Ej. S.D.Perry"}),Object(r.jsx)("label",{children:"Editorial"}),Object(r.jsx)("input",{type:"text",className:"form-control",value:y,onChange:function(e){return E(e.target.value)},placeholder:"Ej. Titunmas"}),Object(r.jsx)("label",{children:"Clasificacion"}),Object(r.jsx)("input",{type:"text",className:"form-control",value:S,onChange:function(e){return N(e.target.value)},placeholder:"Ej. Horror"})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:I?"Editar":"Agregar"})]}),Object(r.jsx)("ul",{className:"list-group",children:a.map((function(e){return Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsxs)("span",{children:["Titulo: ",e.name," || Autor: ",e.aut," || Editorial: ",e.edi," || Clasificacion: ",e.clas," || ID: ",e.id]}),Object(r.jsx)("button",{className:"btn btn-danger btn-sm float-right",onClick:function(){return P(e.id)},children:"Eliminar"}),Object(r.jsx)("button",{className:"btn btn-warning btn-sm float-right mr-2",onClick:function(){return function(e){A(!0),j(e.name),x(e.aut),E(e.edi),N(e.clas),B(e.id)}(e)},children:"Editar"})]},e.id)}))})]})};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.c342308f.chunk.js.map